
Waiting for remote response before bootstrap.52.205.252.170 . 
52.205.252.170 Response received.
52.205.252.170 Rendering "C:\Users\ADMINI~1\AppData\Local\Temp\bootstrap-6551-1488384758.bat" chunk 1 
52.205.252.170 Rendering "C:\Users\ADMINI~1\AppData\Local\Temp\bootstrap-6551-1488384758.bat" chunk 2 
52.205.252.170 Rendering "C:\Users\ADMINI~1\AppData\Local\Temp\bootstrap-6551-1488384758.bat" chunk 3 
52.205.252.170 Rendering "C:\Users\ADMINI~1\AppData\Local\Temp\bootstrap-6551-1488384758.bat" chunk 4 
52.205.252.170 Rendering "C:\Users\ADMINI~1\AppData\Local\Temp\bootstrap-6551-1488384758.bat" chunk 5 
52.205.252.170 Rendering "C:\Users\ADMINI~1\AppData\Local\Temp\bootstrap-6551-1488384758.bat" chunk 6 
52.205.252.170 Rendering "C:\Users\ADMINI~1\AppData\Local\Temp\bootstrap-6551-1488384758.bat" chunk 7 
52.205.252.170 Rendering "C:\Users\ADMINI~1\AppData\Local\Temp\bootstrap-6551-1488384758.bat" chunk 8 
52.205.252.170 Checking for existing directory "C:\chef"...
52.205.252.170 Existing directory not found, creating.
52.205.252.170 
52.205.252.170 C:\Users\Administrator>(
52.205.252.170 echo.url = WScript.Arguments.Named("url")  
52.205.252.170  echo.path = WScript.Arguments.Named("path")  
52.205.252.170  echo.proxy = null  
52.205.252.170  echo.'* Vaguely attempt to handle file:// scheme urls by url unescaping and switching all  
52.205.252.170  echo.'* / into .  Also assume that file:/// is a local absolute path and that file://<foo>  
52.205.252.170  echo.'* is possibly a network file path.  
52.205.252.170  echo.If InStr(url, "file://") = 1 Then  
52.205.252.170  echo.url = Unescape(url)  
52.205.252.170  echo.If InStr(url, "file:///") = 1 Then  
52.205.252.170  echo.sourcePath = Mid(url, Len("file:///") + 1)  
52.205.252.170  echo.Else 
52.205.252.170  echo.sourcePath = Mid(url, Len("file:") + 1)  
52.205.252.170  echo.End If  
52.205.252.170  echo.sourcePath = Replace(sourcePath, "/", "\")  
52.205.252.170  echo. 
52.205.252.170  echo.Set objFSO = CreateObject("Scripting.FileSystemObject")  
52.205.252.170  echo.If objFSO.Fileexists(path) Then objFSO.DeleteFile path  
52.205.252.170  echo.objFSO.CopyFile sourcePath, path, true  
52.205.252.170  echo.Set objFSO = Nothing  
52.205.252.170  echo. 
52.205.252.170  echo.Else 
52.205.252.170  echo.Set objXMLHTTP = CreateObject("MSXML2.ServerXMLHTTP")  
52.205.252.170  echo.Set wshShell = CreateObject( "WScript.Shell" )  
52.205.252.170  echo.Set objUserVariables = wshShell.Environment("USER")  
52.205.252.170  echo. 
52.205.252.170  echo.rem http proxy is optional  
52.205.252.170  echo.rem attempt to read from HTTP_PROXY env var first  
52.205.252.170  echo.On Error Resume Next  
52.205.252.170  echo. 
52.205.252.170  echo.If NOT (objUserVariables("HTTP_PROXY") = "") Then  
52.205.252.170  echo.proxy = objUserVariables("HTTP_PROXY")  
52.205.252.170  echo. 
52.205.252.170  echo.rem fall back to named arg  
52.205.252.170  echo.ElseIf NOT (WScript.Arguments.Named("proxy") = "") Then  
52.205.252.170  echo.proxy = WScript.Arguments.Named("proxy")  
52.205.252.170  echo.End If  
52.205.252.170  echo. 
52.205.252.170  echo.If NOT isNull(proxy) Then  
52.205.252.170  echo.rem setProxy method is only available on ServerXMLHTTP 6.0+  
52.205.252.170  echo.Set objXMLHTTP = CreateObject("MSXML2.ServerXMLHTTP.6.0")  
52.205.252.170  echo.objXMLHTTP.setProxy 2, proxy  
52.205.252.170  echo.End If  
52.205.252.170  echo. 
52.205.252.170  echo.On Error Goto 0  
52.205.252.170  echo. 
52.205.252.170  echo.objXMLHTTP.open "GET", url, false  
52.205.252.170  echo.objXMLHTTP.send() 
52.205.252.170  echo.If objXMLHTTP.Status = 200 Then  
52.205.252.170  echo.Set objADOStream = CreateObject("ADODB.Stream")  
52.205.252.170  echo.objADOStream.Open 
52.205.252.170  echo.objADOStream.Type = 1  
52.205.252.170  echo.objADOStream.Write objXMLHTTP.ResponseBody  
52.205.252.170  echo.objADOStream.Position = 0  
52.205.252.170  echo.Set objFSO = Createobject("Scripting.FileSystemObject")  
52.205.252.170  echo.If objFSO.Fileexists(path) Then objFSO.DeleteFile path  
52.205.252.170  echo.Set objFSO = Nothing  
52.205.252.170  echo.objADOStream.SaveToFile path  
52.205.252.170  echo.objADOStream.Close 
52.205.252.170  echo.Set objADOStream = Nothing  
52.205.252.170  echo.End If  
52.205.252.170  echo.Set objXMLHTTP = Nothing  
52.205.252.170  echo.End If 
52.205.252.170 ) 1>C:\chef\wget.vbs 
52.205.252.170 
52.205.252.170 C:\Users\Administrator>(
52.205.252.170 echo.param( 
52.205.252.170  echo.   [String] $remoteUrl,  
52.205.252.170  echo.   [String] $localPath  
52.205.252.170  echo.) 
52.205.252.170  echo. 
52.205.252.170  echo.$ProxyUrl = $env:http_proxy;  
52.205.252.170  echo.$webClient = new-object System.Net.WebClient;  
52.205.252.170  echo. 
52.205.252.170  echo.if ($ProxyUrl -ne '') {  
52.205.252.170  echo.  $WebProxy = New-Object System.Net.WebProxy($ProxyUrl,$true)  
52.205.252.170  echo.  $WebClient.Proxy = $WebProxy  
52.205.252.170  echo.} 
52.205.252.170  echo. 
52.205.252.170  echo.$webClient.DownloadFile($remoteUrl, $localPath); 
52.205.252.170 ) 1>C:\chef\wget.ps1 
52.205.252.170 
52.205.252.170 C:\Users\Administrator>(
52.205.252.170  
52.205.252.170   
52.205.252.170  
52.205.252.170 ) 
52.205.252.170 Detected Windows Version 6.3 Build 9600
52.205.252.170 
52.205.252.170 C:\Users\Administrator>goto Version6.3 
52.205.252.170 
52.205.252.170 C:\Users\Administrator>goto Version6.2 
52.205.252.170 
52.205.252.170 C:\Users\Administrator>goto architecture_select 
52.205.252.170 
52.205.252.170 C:\Users\Administrator>IF "AMD64" == "x86" IF not defined PROCESSOR_ARCHITEW6432 
52.205.252.170 
52.205.252.170 C:\Users\Administrator>goto install 
52.205.252.170 Checking for existing downloaded package at "C:\Users\ADMINI~1\AppData\Local\Temp\chef-client-latest.msi"
52.205.252.170 No existing downloaded packages to delete.
52.205.252.170 Attempting to download client package using PowerShell if available...
52.205.252.170 powershell.exe -ExecutionPolicy Unrestricted -InputFormat None -NoProfile -NonInteractive -File  C:\chef\wget.ps1 "https://www.chef.io/chef/download?p=windows&pv=2012&m=x86_64&DownloadContext=PowerShell&v=12" "C:\Users\ADMINI~1\AppData\Local\Temp\chef-client-latest.msi"
52.205.252.170 Download via PowerShell succeeded.
52.205.252.170 Installing downloaded client package...
52.205.252.170 
52.205.252.170 C:\Users\Administrator>msiexec /qn /log "C:\Users\ADMINI~1\AppData\Local\Temp\chef-client-msi26477.log" /i "C:\Users\ADMINI~1\AppData\Local\Temp\chef-client-latest.msi" 
52.205.252.170 Successfully installed Chef Client package.
52.205.252.170 Installation completed successfully
52.205.252.170 Writing validation key...
52.205.252.170 Validation key written.
52.205.252.170 
52.205.252.170 C:\Users\Administrator>mkdir C:\chef\trusted_certs 
52.205.252.170 
52.205.252.170 C:\Users\Administrator>(
52.205.252.170 echo.-----BEGIN CERTIFICATE-----  
52.205.252.170  echo.MIIGBDCCA+ygAwIBAgIJAPhQyBGIpxUKMA0GCSqGSIb3DQEBCwUAMIGOMQswCQYD 
52.205.252.170  echo.VQQGEwJVUzETMBEGA1UECAwKV2FzaGluZ3RvbjEQMA4GA1UEBwwHU2VhdHRsZTEi 
52.205.252.170  echo.MCAGA1UECgwZQW1hem9uIFdlYiBTZXJ2aWNlcywgSW5jLjEVMBMGA1UECwwMQVdT 
52.205.252.170  echo.IE9wc1dvcmtzMR0wGwYDVQQDDBRBV1MgT3BzV29ya3MgUm9vdCBDQTAeFw0xNjEx 
52.205.252.170  echo.MDMxMTQyNTJaFw0yMTEyMjIxMTQyNTJaMIGOMQswCQYDVQQGEwJVUzETMBEGA1UE 
52.205.252.170  echo.CAwKV2FzaGluZ3RvbjEQMA4GA1UEBwwHU2VhdHRsZTEiMCAGA1UECgwZQW1hem9u 
52.205.252.170  echo.IFdlYiBTZXJ2aWNlcywgSW5jLjEVMBMGA1UECwwMQVdTIE9wc1dvcmtzMR0wGwYD 
52.205.252.170  echo.VQQDDBRBV1MgT3BzV29ya3MgUm9vdCBDQTCCAiIwDQYJKoZIhvcNAQEBBQADggIP 
52.205.252.170  echo.ADCCAgoCggIBAJwleItQXSXUtpSQfOefROwdlFQX9kiPWpOKYKnJRTVfOqdDi4ug 
52.205.252.170  echo.9NOwNuP2zoz1jxawZRyNvs17GmLjmdzBnoW+x/DG+WswFGyAifn81jZ92FldtdNo 
52.205.252.170  echo.hp4buBv0ydunLlyjTzGoRdcrawIENEtcgGWkOaqMP1iQvUJXQiQgzxQx0O7JPBvS 
52.205.252.170  echo.Wkq5VmEthY+7H6OnpxsqBbRln2t9JE2oUjnZWpPEXXegwmZKx4wZG3HyeMXrj7aG 
52.205.252.170  echo.vWmN9QcDFGu0gZFSF9IfWvd37H6hXMpHe0O+0PuWQXWOJhCXDV41155mWHq8U8Nh 
52.205.252.170  echo.mu0ySmb/8dYBoDNEVd+9fHI8FlvcoVML1zmv6sBw25mulspsbby2vhZZ6DELEhbK 
52.205.252.170  echo.9QWTxNotTPlT8Uq4O53RSkuxPeyD5oOuO+L+96jd4Dt1Ev8YXAwhQhTf/+nLczIZ 
52.205.252.170  echo.M30SIrF2jorXEA5xrfzvvr9CEN1O7v9+E2xnrIZHATyujiDtJmVjSkWGSsar4i/8 
52.205.252.170  echo.0djD8S9TdgRrozW2gVX6lZqURrS/51BYp0V0Gyuq7nh+IBW/SA6Fe9PlbJqoUUui 
52.205.252.170  echo.noANjlSXDRF29LVB7qVOM4fF0Emj4/jTFSdRUreYz930tjIbAlEaz9+V0L2BNoIp 
52.205.252.170  echo.3PvCT/RXgBVJBCkb0LL26cl9ztnqcTMEJU9iNe+oTeWzwywI8djguidfAgMBAAGj 
52.205.252.170  echo.YzBhMB0GA1UdDgQWBBRxex0hBvpbsMeqNc1YrikJhYhnZzAfBgNVHSMEGDAWgBRx 
52.205.252.170  echo.ex0hBvpbsMeqNc1YrikJhYhnZzAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB/wQE 
52.205.252.170  echo.AwIBhjANBgkqhkiG9w0BAQsFAAOCAgEAAzCDOwGyrs67r1pSY7TQsvdXx3MKPPA5 
52.205.252.170  echo.d060OidEmPGJpO5yrWODoQFwueTFLfxaR+ovSGqvtJjlBCDUa5gBy9MEjnCge/UY 
52.205.252.170  echo.TK4WDJaJrMiXQW0k8rQpHTKgPgL8LkBwfZU7Sk1P5DaE3vHTAwOgjdlH5Y3jWmTS 
52.205.252.170  echo.G2+RlRG3hlvPRDzfTbd0mMkQyiBAj86Tk3pOiQf4ctJ+TIw8pJMJkY4I7KiPZkMR 
52.205.252.170  echo.4XcoQ56ayiSmMnmxOfulKEkkyrfzS+HUy2AXkbMR5GHppGGkc0PyEzHNXk+XyKGn 
52.205.252.170  echo.OsmOt0WYciHLhew1rEuMZZJALgk4kBQHXFr1VqnqyuVakOubP9bJ0wnhmMDzD5sM 
52.205.252.170  echo.1rdAyVQwoYBcYVsq0F+Qs0kgvPketYShPNNKPrEHwXGaeeC/PS+NmY88vf/VMdvJ 
52.205.252.170  echo.5PzTLUBLRtY5E6xD8ar/Lz4Wf8t8s1RWE6NyArPS83dFEslFCbO9y3ivlH6xhlv9 
52.205.252.170  echo.aYzCHvg8nazYRTfKKkCvXx1GM/OFi538ffSlGyHpaKaFKqb7R/s/Drv7taNVReuX 
52.205.252.170  echo.UAI92eaSyk+irYykTOeQslzDnQ7Z5m+TjjqQyu1hfD74Zh4XYYLOKcMTmzth99zZ 
52.205.252.170  echo.f9bshoGA8hbF/lOYZ6wT+K+iy+QO+rF5MFsojtnfm4sloWRymPuLEPSMuUgljLNf 
52.205.252.170  echo.R2CExeYjWik=  
52.205.252.170  echo.-----END CERTIFICATE----- 
52.205.252.170 ) 1>C:\chef/trusted_certs/opsworks-cm-ca-2016-root.pem 
52.205.252.170 
52.205.252.170 C:\Users\Administrator>(
52.205.252.170 echo.chef_server_url  "https://test-dfuujy72z74ng5gj.us-east-1.opsworks-cm.io/organizations/default"  
52.205.252.170  echo.validation_client_name "chef-validator"  
52.205.252.170  echo.file_cache_path   "c:/chef/cache"  
52.205.252.170  echo.file_backup_path  "c:/chef/backup"  
52.205.252.170  echo.cache_options     ({:path => "c:/chef/cache/checksums", :skip_expires => true})  
52.205.252.170  echo.node_name "node1-windows"  
52.205.252.170  echo.log_level        :info  
52.205.252.170  echo.log_location       STDOUT  
52.205.252.170  echo.trusted_certs_dir "c:/chef/trusted_certs" 
52.205.252.170 ) 1>C:\chef\client.rb 
52.205.252.170 
52.205.252.170 C:\Users\Administrator>(echo.{"run_list":["recipe[learn_chef_iis]"]}) 1>C:\chef\first-boot.json 
52.205.252.170 Starting chef to bootstrap the node...
52.205.252.170 
52.205.252.170 C:\Users\Administrator>SET "PATH=C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Program Files\Amazon\cfn-bootstrap\;C:\ruby\bin;C:\opscode\chef\bin;C:\opscode\chef\embedded\bin" 
52.205.252.170 
52.205.252.170 C:\Users\Administrator>chef-client -c c:/chef/client.rb -j c:/chef/first-boot.json 
52.205.252.170 [2017-03-01T16:14:07+00:00] INFO: *** Chef 12.19.36 ***
52.205.252.170 [2017-03-01T16:14:07+00:00] INFO: Platform: x64-mingw32
52.205.252.170 [2017-03-01T16:14:07+00:00] INFO: Chef-client pid: 2484
52.205.252.170 [2017-03-01T16:14:36+00:00] INFO: Setting the run_list to ["recipe[learn_chef_iis]"] from CLI options
52.205.252.170 [2017-03-01T16:14:36+00:00] INFO: Run List is [recipe[learn_chef_iis]]
52.205.252.170 [2017-03-01T16:14:36+00:00] INFO: Run List expands to [learn_chef_iis]
52.205.252.170 [2017-03-01T16:14:36+00:00] INFO: Starting Chef Run for node1-windows
52.205.252.170 [2017-03-01T16:14:36+00:00] INFO: Running start handlers
52.205.252.170 [2017-03-01T16:14:36+00:00] INFO: Start handlers complete.
52.205.252.170 [2017-03-01T16:14:36+00:00] INFO: HTTP Request Returned 404 Not Found: 
52.205.252.170 [2017-03-01T16:14:36+00:00] INFO: Loading cookbooks [learn_chef_iis@0.1.0]
52.205.252.170 [2017-03-01T16:14:37+00:00] INFO: Storing updated cookbooks/learn_chef_iis/.kitchen.yml in the cache.
52.205.252.170 [2017-03-01T16:14:37+00:00] INFO: Storing updated cookbooks/learn_chef_iis/recipes/default.rb in the cache.
52.205.252.170 [2017-03-01T16:14:37+00:00] INFO: Storing updated cookbooks/learn_chef_iis/chefignore in the cache.
52.205.252.170 [2017-03-01T16:14:37+00:00] INFO: Storing updated cookbooks/learn_chef_iis/LICENSE in the cache.
52.205.252.170 [2017-03-01T16:14:37+00:00] INFO: Storing updated cookbooks/learn_chef_iis/templates/Default.htm.erb in the cache.
52.205.252.170 [2017-03-01T16:14:37+00:00] INFO: Storing updated cookbooks/learn_chef_iis/.gitignore in the cache.
52.205.252.170 [2017-03-01T16:14:37+00:00] INFO: Storing updated cookbooks/learn_chef_iis/metadata.rb in the cache.
52.205.252.170 [2017-03-01T16:14:37+00:00] INFO: Storing updated cookbooks/learn_chef_iis/README.md in the cache.
52.205.252.170 [2017-03-01T16:14:37+00:00] INFO: Storing updated cookbooks/learn_chef_iis/Berksfile in the cache.
52.205.252.170 [2017-03-01T16:14:37+00:00] INFO: Processing powershell_script[Install IIS] action run (learn_chef_iis::default line 6)
52.205.252.170 [2017-03-01T16:14:37+00:00] INFO: Processing powershell_script[Guard resource] action run (dynamically defined)
52.205.252.170 [2017-03-01T16:15:41+00:00] INFO: powershell_script[Install IIS] ran successfully
52.205.252.170 [2017-03-01T16:15:41+00:00] INFO: Processing windows_service[w3svc] action enable (learn_chef_iis::default line 12)
52.205.252.170 [2017-03-01T16:15:41+00:00] INFO: Processing windows_service[w3svc] action start (learn_chef_iis::default line 12)
52.205.252.170 [2017-03-01T16:15:41+00:00] INFO: Processing template[c:\inetpub\wwwroot\Default.htm] action create (learn_chef_iis::default line 16)
52.205.252.170 [2017-03-01T16:15:41+00:00] INFO: template[c:\inetpub\wwwroot\Default.htm] created file c:\inetpub\wwwroot\Default.htm
52.205.252.170 [2017-03-01T16:15:41+00:00] INFO: template[c:\inetpub\wwwroot\Default.htm] updated file contents c:\inetpub\wwwroot\Default.htm
52.205.252.170 [2017-03-01T16:15:41+00:00] INFO: Chef Run complete in 65.240789 seconds
52.205.252.170 [2017-03-01T16:15:41+00:00] INFO: Running report handlers
52.205.252.170 [2017-03-01T16:15:41+00:00] INFO: Report handlers complete