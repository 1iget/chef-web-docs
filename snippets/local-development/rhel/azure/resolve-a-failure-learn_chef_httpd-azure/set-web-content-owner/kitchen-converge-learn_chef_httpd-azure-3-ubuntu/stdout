-----> Starting Kitchen (v1.15.0)
-----> Creating <default-centos-72>...
       Creating Resource Group: kitchen-default-centos-72-20170314T021341
       Creating deployment: deploy-2c68c65230743892
       Adding public key from /root/.ssh/learn-chef.pem.pub to the deployment.
       Resource Microsoft.Network/virtualNetworks 'vnet' provisioning status is Running
       Resource Microsoft.Storage/storageAccounts 'storage2c68c65230743892' provisioning status is Running
       Resource Microsoft.Compute/virtualMachines 'centos-vm' provisioning status is Running
       Resource Microsoft.Compute/virtualMachines 'centos-vm' provisioning status is Running
       Resource Microsoft.Compute/virtualMachines 'centos-vm' provisioning status is Running
       Resource Microsoft.Compute/virtualMachines 'centos-vm' provisioning status is Running
       Resource Microsoft.Compute/virtualMachines 'centos-vm' provisioning status is Running
       Resource Microsoft.Compute/virtualMachines 'centos-vm' provisioning status is Running
       Resource Microsoft.Compute/virtualMachines 'centos-vm' provisioning status is Running
       Resource Microsoft.Compute/virtualMachines 'centos-vm' provisioning status is Running
       Resource Microsoft.Compute/virtualMachines 'centos-vm' provisioning status is Running
       Resource Microsoft.Compute/virtualMachines 'centos-vm' provisioning status is Running
       Resource Microsoft.Compute/virtualMachines 'centos-vm' provisioning status is Running
       Resource Template deployment reached end state of 'Succeeded'.
       IP Address is: 52.170.207.184 [kitchen-2c68c65230743892.eastus.cloudapp.azure.com]
       Finished creating <default-centos-72> (2m43.91s).
-----> Converging <default-centos-72>...
       Preparing files for transfer
       Preparing dna.json
       Resolving cookbook dependencies with Berkshelf 5.6.0...
       Removing non-cookbook files before transfer
       Preparing validation.pem
       Preparing client.rb
-----> Installing Chef Omnibus (install only if missing)
       Downloading https://omnitruck.chef.io/install.sh to file /tmp/install.sh
       Trying wget...
       Download complete.
       el 7 x86_64
       Getting information for chef stable  for el...
       downloading https://omnitruck.chef.io/stable/chef/metadata?v=&p=el&pv=7&m=x86_64
         to file /tmp/install.sh.1499/metadata.txt
       trying wget...
       sha1	5e36301f5e751f2a79a8b513831b5bc0b478bbed
       sha256	124d34d3a26ce25305899bc93df58aaf4979c5c065adcf1e6487734afb6edf6c
       url	https://packages.chef.io/files/stable/chef/12.19.36/el/7/chef-12.19.36-1.el7.x86_64.rpm
       version	12.19.36
       downloaded metadata file looks valid...
       downloading https://packages.chef.io/files/stable/chef/12.19.36/el/7/chef-12.19.36-1.el7.x86_64.rpm
         to file /tmp/install.sh.1499/chef-12.19.36-1.el7.x86_64.rpm
       trying wget...
       Comparing checksum with sha256sum...
       
       WARNING WARNING WARNING WARNING WARNING WARNING WARNING WARNING WARNING
       
       You are installing an omnibus package without a version pin.  If you are installing
       on production servers via an automated process this is DANGEROUS and you will
       be upgraded without warning on new releases, even to new major releases.
       Letting the version float is only appropriate in desktop, test, development or
       CI/CD environments.
       
       WARNING WARNING WARNING WARNING WARNING WARNING WARNING WARNING WARNING
       
       Installing chef 
       installing with rpm...
       warning: /tmp/install.sh.1499/chef-12.19.36-1.el7.x86_64.rpm: Header V4 DSA/SHA1 Signature, key ID 83ef826a: NOKEY
       Updating / installing...
       Thank you for installing Chef!
       Transferring files to <default-centos-72>
       [2017-03-14T02:17:01+00:00] INFO: Forking chef instance to converge...
       Starting Chef Client, version 12.19.36
       [2017-03-14T02:17:01+00:00] INFO: *** Chef 12.19.36 ***
       [2017-03-14T02:17:01+00:00] INFO: Platform: x86_64-linux
       [2017-03-14T02:17:01+00:00] INFO: Chef-client pid: 1636
       Creating a new client identity for default-centos-72 using the validator key.
       [2017-03-14T02:17:05+00:00] INFO: Client key /tmp/kitchen/client.pem is not present - registering
       [2017-03-14T02:17:05+00:00] INFO: HTTP Request Returned 404 Not Found: Object not found: chefzero://localhost:8889/nodes/default-centos-72
       [2017-03-14T02:17:05+00:00] INFO: Setting the run_list to ["recipe[learn_chef_httpd::default]"] from CLI options
       [2017-03-14T02:17:05+00:00] INFO: Run List is [recipe[learn_chef_httpd::default]]
       [2017-03-14T02:17:05+00:00] INFO: Run List expands to [learn_chef_httpd::default]
       [2017-03-14T02:17:05+00:00] INFO: Starting Chef Run for default-centos-72
       [2017-03-14T02:17:05+00:00] INFO: Running start handlers
       [2017-03-14T02:17:05+00:00] INFO: Start handlers complete.
       [2017-03-14T02:17:05+00:00] INFO: HTTP Request Returned 404 Not Found: Object not found: 
       resolving cookbooks for run list: ["learn_chef_httpd::default"]
       [2017-03-14T02:17:05+00:00] INFO: Loading cookbooks [learn_chef_httpd@0.1.0]
       Synchronizing Cookbooks:
       [2017-03-14T02:17:05+00:00] INFO: Storing updated cookbooks/learn_chef_httpd/recipes/default.rb in the cache.
       [2017-03-14T02:17:05+00:00] INFO: Storing updated cookbooks/learn_chef_httpd/templates/index.html.erb in the cache.
       [2017-03-14T02:17:05+00:00] INFO: Storing updated cookbooks/learn_chef_httpd/README.md in the cache.
       [2017-03-14T02:17:05+00:00] INFO: Storing updated cookbooks/learn_chef_httpd/metadata.json in the cache.
         - learn_chef_httpd (0.1.0)
       Installing Cookbook Gems:
       Compiling Cookbooks...
       Converging 3 resources
       Recipe: learn_chef_httpd::default
         * yum_package[httpd] action install[2017-03-14T02:17:05+00:00] INFO: Processing yum_package[httpd] action install (learn_chef_httpd::default line 6)
       [2017-03-14T02:17:12+00:00] INFO: yum_package[httpd] installing httpd-2.4.6-45.el7.centos from base repository
       [2017-03-14T02:18:10+00:00] INFO: yum_package[httpd] installed httpd at 2.4.6-45.el7.centos
       
           - install version 2.4.6-45.el7.centos of package httpd
         * service[httpd] action enable[2017-03-14T02:18:10+00:00] INFO: Processing service[httpd] action enable (learn_chef_httpd::default line 8)
       [2017-03-14T02:18:11+00:00] INFO: service[httpd] enabled
       
           - enable service service[httpd]
         * service[httpd] action start[2017-03-14T02:18:11+00:00] INFO: Processing service[httpd] action start (learn_chef_httpd::default line 8)
       [2017-03-14T02:18:11+00:00] INFO: service[httpd] started
       
           - start service service[httpd]
         * template[/var/www/html/index.html] action create[2017-03-14T02:18:11+00:00] INFO: Processing template[/var/www/html/index.html] action create (learn_chef_httpd::default line 12)
       
           * cannot determine user id for 'web_admin', does the user exist on this system?
           ================================================================================
           Error executing action `create` on resource 'template[/var/www/html/index.html]'
           ================================================================================
           
           Chef::Exceptions::UserIDNotFound
           --------------------------------
           cannot determine user id for 'web_admin', does the user exist on this system?
           
           Resource Declaration:
           ---------------------
           
            12: template '/var/www/html/index.html' do
            13:   source 'index.html.erb'
            14:   mode '0644'
            15:   owner 'web_admin'
            16:   group 'web_admin'
            17: end
           
           Compiled Resource:
           ------------------
           
           template("/var/www/html/index.html") do
             action [:create]
             retries 0
             retry_delay 2
             default_guard_interpreter :default
             source "index.html.erb"
             declared_type :template
             cookbook_name "learn_chef_httpd"
             recipe_name "default"
             mode "0644"
             owner "web_admin"
             group "web_admin"
             path "/var/www/html/index.html"
             verifications []
           end
           
           Platform:
           ---------
           x86_64-linux
           
       [2017-03-14T02:18:11+00:00] INFO: Running queued delayed notifications before re-raising exception
       
       Running handlers:
       [2017-03-14T02:18:11+00:00] ERROR: Running exception handlers
       Running handlers complete
       [2017-03-14T02:18:11+00:00] ERROR: Exception handlers complete
       Chef Client failed. 3 resources updated in 01 minutes 09 seconds
       [2017-03-14T02:18:11+00:00] FATAL: Stacktrace dumped to /tmp/kitchen/cache/chef-stacktrace.out
       [2017-03-14T02:18:11+00:00] FATAL: Please provide the contents of the stacktrace.out file if you file a bug report
       [2017-03-14T02:18:11+00:00] ERROR: template[/var/www/html/index.html] (learn_chef_httpd::default line 12) had an error: Chef::Exceptions::UserIDNotFound: cannot determine user id for 'web_admin', does the user exist on this system?
       [2017-03-14T02:18:11+00:00] FATAL: Chef::Exceptions::ChildConvergeError: Chef run process exited unsuccessfully (exit code 1)