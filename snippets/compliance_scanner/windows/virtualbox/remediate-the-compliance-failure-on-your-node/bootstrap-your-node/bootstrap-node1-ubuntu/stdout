Waiting for remote response before bootstrap.192.168.145.134 .
192.168.145.134 Response received.
Remote node responded after 0.0 minutes.
Bootstrapping Chef on 192.168.145.134
192.168.145.134 Rendering "C:\Users\vagrant\AppData\Local\Temp\bootstrap-26743-1486732938.bat" chunk 1
192.168.145.134 Rendering "C:\Users\vagrant\AppData\Local\Temp\bootstrap-26743-1486732938.bat" chunk 2
192.168.145.134 Rendering "C:\Users\vagrant\AppData\Local\Temp\bootstrap-26743-1486732938.bat" chunk 3
192.168.145.134 Rendering "C:\Users\vagrant\AppData\Local\Temp\bootstrap-26743-1486732938.bat" chunk 4
192.168.145.134 Rendering "C:\Users\vagrant\AppData\Local\Temp\bootstrap-26743-1486732938.bat" chunk 5
192.168.145.134 Rendering "C:\Users\vagrant\AppData\Local\Temp\bootstrap-26743-1486732938.bat" chunk 6
192.168.145.134 Rendering "C:\Users\vagrant\AppData\Local\Temp\bootstrap-26743-1486732938.bat" chunk 7
192.168.145.134 Rendering "C:\Users\vagrant\AppData\Local\Temp\bootstrap-26743-1486732938.bat" chunk 8
192.168.145.134 Checking for existing directory "C:\chef"...
192.168.145.134 Existing directory found, skipping creation.
192.168.145.134
192.168.145.134 C:\Users\vagrant>(
192.168.145.134 echo.url = WScript.Arguments.Named("url")
192.168.145.134  echo.path = WScript.Arguments.Named("path")
192.168.145.134  echo.proxy = null
192.168.145.134  echo.'* Vaguely attempt to handle file:// scheme urls by url unescaping and switching all
192.168.145.134  echo.'* / into .  Also assume that file:/// is a local absolute path and that file://<foo>
192.168.145.134  echo.'* is possibly a network file path.
192.168.145.134  echo.If InStr(url, "file://") = 1 Then
192.168.145.134  echo.url = Unescape(url)
192.168.145.134  echo.If InStr(url, "file:///") = 1 Then
192.168.145.134  echo.sourcePath = Mid(url, Len("file:///") + 1)
192.168.145.134  echo.Else
192.168.145.134  echo.sourcePath = Mid(url, Len("file:") + 1)
192.168.145.134  echo.End If
192.168.145.134  echo.sourcePath = Replace(sourcePath, "/", "\")
192.168.145.134  echo.
192.168.145.134  echo.Set objFSO = CreateObject("Scripting.FileSystemObject")
192.168.145.134  echo.If objFSO.Fileexists(path) Then objFSO.DeleteFile path
192.168.145.134  echo.objFSO.CopyFile sourcePath, path, true
192.168.145.134  echo.Set objFSO = Nothing
192.168.145.134  echo.
192.168.145.134  echo.Else
192.168.145.134  echo.Set objXMLHTTP = CreateObject("MSXML2.ServerXMLHTTP")
192.168.145.134  echo.Set wshShell = CreateObject( "WScript.Shell" )
192.168.145.134  echo.Set objUserVariables = wshShell.Environment("USER")
192.168.145.134  echo.
192.168.145.134  echo.rem http proxy is optional
192.168.145.134  echo.rem attempt to read from HTTP_PROXY env var first
192.168.145.134  echo.On Error Resume Next
192.168.145.134  echo.
192.168.145.134  echo.If NOT (objUserVariables("HTTP_PROXY") = "") Then
192.168.145.134  echo.proxy = objUserVariables("HTTP_PROXY")
192.168.145.134  echo.
192.168.145.134  echo.rem fall back to named arg
192.168.145.134  echo.ElseIf NOT (WScript.Arguments.Named("proxy") = "") Then
192.168.145.134  echo.proxy = WScript.Arguments.Named("proxy")
192.168.145.134  echo.End If
192.168.145.134  echo.
192.168.145.134  echo.If NOT isNull(proxy) Then
192.168.145.134  echo.rem setProxy method is only available on ServerXMLHTTP 6.0+
192.168.145.134  echo.Set objXMLHTTP = CreateObject("MSXML2.ServerXMLHTTP.6.0")
192.168.145.134  echo.objXMLHTTP.setProxy 2, proxy
192.168.145.134  echo.End If
192.168.145.134  echo.
192.168.145.134  echo.On Error Goto 0
192.168.145.134  echo.
192.168.145.134  echo.objXMLHTTP.open "GET", url, false
192.168.145.134  echo.objXMLHTTP.send()
192.168.145.134  echo.If objXMLHTTP.Status = 200 Then
192.168.145.134  echo.Set objADOStream = CreateObject("ADODB.Stream")
192.168.145.134  echo.objADOStream.Open
192.168.145.134  echo.objADOStream.Type = 1
192.168.145.134  echo.objADOStream.Write objXMLHTTP.ResponseBody
192.168.145.134  echo.objADOStream.Position = 0
192.168.145.134  echo.Set objFSO = Createobject("Scripting.FileSystemObject")
192.168.145.134  echo.If objFSO.Fileexists(path) Then objFSO.DeleteFile path
192.168.145.134  echo.Set objFSO = Nothing
192.168.145.134  echo.objADOStream.SaveToFile path
192.168.145.134  echo.objADOStream.Close
192.168.145.134  echo.Set objADOStream = Nothing
192.168.145.134  echo.End If
192.168.145.134  echo.Set objXMLHTTP = Nothing
192.168.145.134  echo.End If
192.168.145.134 ) 1>C:\chef\wget.vbs
192.168.145.134
192.168.145.134 C:\Users\vagrant>(
192.168.145.134 echo.param(
192.168.145.134  echo.   [String] $remoteUrl,
192.168.145.134  echo.   [String] $localPath
192.168.145.134  echo.)
192.168.145.134  echo.
192.168.145.134  echo.$ProxyUrl = $env:http_proxy;
192.168.145.134  echo.$webClient = new-object System.Net.WebClient;
192.168.145.134  echo.
192.168.145.134  echo.if ($ProxyUrl -ne '') {
192.168.145.134  echo.  $WebProxy = New-Object System.Net.WebProxy($ProxyUrl,$true)
192.168.145.134  echo.  $WebClient.Proxy = $WebProxy
192.168.145.134  echo.}
192.168.145.134  echo.
192.168.145.134  echo.$webClient.DownloadFile($remoteUrl, $localPath);
192.168.145.134 ) 1>C:\chef\wget.ps1
192.168.145.134
192.168.145.134 C:\Users\vagrant>(
192.168.145.134
192.168.145.134
192.168.145.134
192.168.145.134 )
192.168.145.134 Detected Windows Version 6.3 Build 9600
192.168.145.134
192.168.145.134 C:\Users\vagrant>goto Version6.3
192.168.145.134
192.168.145.134 C:\Users\vagrant>goto Version6.2
192.168.145.134
192.168.145.134 C:\Users\vagrant>goto architecture_select
192.168.145.134
192.168.145.134 C:\Users\vagrant>IF "AMD64" == "x86" IF not defined PROCESSOR_ARCHITEW6432
192.168.145.134
192.168.145.134 C:\Users\vagrant>goto install
192.168.145.134 Checking for existing downloaded package at "C:\Users\vagrant\AppData\Local\Temp\chef-client-latest.msi"
192.168.145.134 Found existing downloaded package, deleting.
192.168.145.134 Attempting to download client package using PowerShell if available...
192.168.145.134 powershell.exe -ExecutionPolicy Unrestricted -InputFormat None -NoProfile -NonInteractive -File  C:\chef\wget.ps1 "https://www.chef.io/chef/download?p=windows&pv=2012&m=x86_64&DownloadContext=PowerShell&v=12" "C:\Users\vagrant\AppData\Local\Temp\chef-client-latest.msi"
192.168.145.134 Download via PowerShell succeeded.
192.168.145.134 Installing downloaded client package...
192.168.145.134
192.168.145.134 C:\Users\vagrant>msiexec /qn /log "C:\Users\vagrant\AppData\Local\Temp\chef-client-msi6280.log" /i "C:\Users\vagrant\AppData\Local\Temp\chef-client-latest.msi"
192.168.145.134 Successfully installed Chef Client package.
192.168.145.134 A subdirectory or file C:\chef\trusted_certs already exists.
192.168.145.134 Installation completed successfully
192.168.145.134 Writing validation key...
192.168.145.134 Validation key written.
192.168.145.134
192.168.145.134 C:\Users\vagrant>mkdir C:\chef\trusted_certs
192.168.145.134
192.168.145.134 C:\Users\vagrant>(
192.168.145.134 echo.-----BEGIN CERTIFICATE-----
192.168.145.134  echo.MIIDxjCCAq6gAwIBAgIBADANBgkqhkiG9w0BAQsFADBPMQswCQYDVQQGEwJVUzEQ
192.168.145.134  echo.MA4GA1UECgwHWW91Q29ycDETMBEGA1UECwwKT3BlcmF0aW9uczEZMBcGA1UEAwwQ
192.168.145.134  echo.Y2hlZi1zZXJ2ZXIudGVzdDAeFw0xNzAyMDYxNzE4MzVaFw0yNzAyMDQxNzE4MzVa
192.168.145.134  echo.ME8xCzAJBgNVBAYTAlVTMRAwDgYDVQQKDAdZb3VDb3JwMRMwEQYDVQQLDApPcGVy
192.168.145.134  echo.YXRpb25zMRkwFwYDVQQDDBBjaGVmLXNlcnZlci50ZXN0MIIBIjANBgkqhkiG9w0B
192.168.145.134  echo.AQEFAAOCAQ8AMIIBCgKCAQEAtMC6AlmpCtRMbrin1gDFuxbMcq0fYohSlUxw+UgS
192.168.145.134  echo.7Axw2JPRBX8YHmXqTvZBabv09EOwjLgkENT5tNtfiAeK9HEKY7/qGmjGpPYn6xew
192.168.145.134  echo./mhf+5GYGDG8NbMpslcP7vCLSvT+xaqB4akefv0JjCdZTovZIoKKaYaVl3Pi632A
192.168.145.134  echo.Yu0RfypNXDMBu8/F+MuyQl7ag7T3D2BUV4oLTviMEGqOZgindMNxwlB9Jsk0hqkB
192.168.145.134  echo.BaYmGoC6XjHrdip5siW6zjZJmv4ZNtO9vLnib6A1lddEabKblJUm3epCqeFuGvRw
192.168.145.134  echo.nu+uxyzVSk3m6PGMpvxa4pzRI3WpFtSnIA1lvsFrdQ2RvwIDAQABo4GsMIGpMA8G
192.168.145.134  echo.A1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFJUdcHXceTMzvcakNQA/ep1T+tMFMHcG
192.168.145.134  echo.A1UdIwRwMG6AFJUdcHXceTMzvcakNQA/ep1T+tMFoVOkUTBPMQswCQYDVQQGEwJV
192.168.145.134  echo.UzEQMA4GA1UECgwHWW91Q29ycDETMBEGA1UECwwKT3BlcmF0aW9uczEZMBcGA1UE
192.168.145.134  echo.AwwQY2hlZi1zZXJ2ZXIudGVzdIIBADANBgkqhkiG9w0BAQsFAAOCAQEAQOuy3tg6
192.168.145.134  echo.HJ+wuCAZJh1RwxbwFu2T9wl2wTyp9jk3yZSHTmJDGcGIFKLmilIxLPHPlQGHstyc
192.168.145.134  echo.YK6S9u4byY5V8BInAtxzQI2hWc+imR7ePtm73laUEOH2591NNgY3qNR4Mlx+PVzQ
192.168.145.134  echo.RugQxlxpt8XhFrzXnqr1E0OfxE5W+M3AqGrsA3BKMfufCt/2vLwhVKdBJhVgjxRZ
192.168.145.134  echo.eiwVPYN270hXwPuPxmKnFSFlfsU+2Ci1wrkUxcnCRVHwk7RvC5Ize4hGu7vUEtsv
192.168.145.134  echo.bN+w+2g0Cqr8efusMYR1+L73/SqrviI0JPRLedj5P/g+54oudll+YpnF2+7GYKEQ
192.168.145.134  echo.RZ89cSQK8rhizA==
192.168.145.134  echo.-----END CERTIFICATE-----
192.168.145.134 ) 1>C:\chef/trusted_certs/chef-server_test.crt
192.168.145.134
192.168.145.134 C:\Users\vagrant>(
192.168.145.134 echo.chef_server_url  "https://chef-server.test/organizations/4thcoffee"
192.168.145.134  echo.validation_client_name "chef-validator"
192.168.145.134  echo.file_cache_path   "c:/chef/cache"
192.168.145.134  echo.file_backup_path  "c:/chef/backup"
192.168.145.134  echo.cache_options     ({:path => "c:/chef/cache/checksums", :skip_expires => true})
192.168.145.134  echo.node_name "node1-windows"
192.168.145.134  echo.log_level        :info
192.168.145.134  echo.log_location       STDOUT
192.168.145.134  echo.trusted_certs_dir "c:/chef/trusted_certs"
192.168.145.134 ) 1>C:\chef\client.rb
192.168.145.134
192.168.145.134 C:\Users\vagrant>(echo.{"run_list":["recipe[admpwd]"]}) 1>C:\chef\first-boot.json
192.168.145.134 Starting chef to bootstrap the node...
192.168.145.134
192.168.145.134 C:\Users\vagrant>SET "PATH=C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\opscode\chef\bin\;C:\ruby\bin;C:\opscode\chef\bin;C:\opscode\chef\embedded\bin"
192.168.145.134
192.168.145.134 C:\Users\vagrant>chef-client -c c:/chef/client.rb -j c:/chef/first-boot.json
192.168.145.134 [2017-02-10T05:22:52-08:00] INFO: *** Chef 12.18.31 ***
192.168.145.134 [2017-02-10T05:22:52-08:00] INFO: Platform: x64-mingw32
192.168.145.134 [2017-02-10T05:22:52-08:00] INFO: Chef-client pid: 1904
192.168.145.134 [2017-02-10T05:22:56-08:00] INFO: Setting the run_list to ["recipe[admpwd]"] from CLI options
192.168.145.134 [2017-02-10T05:22:56-08:00] INFO: Run List is [recipe[admpwd]]
192.168.145.134 [2017-02-10T05:22:56-08:00] INFO: Run List expands to [admpwd]
192.168.145.134 [2017-02-10T05:22:56-08:00] INFO: Starting Chef Run for node1-windows
192.168.145.134 [2017-02-10T05:22:56-08:00] INFO: Running start handlers
192.168.145.134 [2017-02-10T05:22:56-08:00] INFO: Start handlers complete.
192.168.145.134 [2017-02-10T05:22:56-08:00] INFO: HTTP Request Returned 404 Not Found:
192.168.145.134 [2017-02-10T05:22:56-08:00] INFO: HTTP Request Returned 404 Not Found:
192.168.145.134 [2017-02-10T05:22:56-08:00] INFO: Error while reporting run start to Data Collector. URL: https://chef-server.test/organizations/4thcoffee/data-collector Exception: 404 -- 404 "Not Found"  (This is normal if you do not have Chef Automate)
192.168.145.134 [2017-02-10T05:22:56-08:00] INFO: Loading cookbooks [admpwd@0.1.0]
192.168.145.134 [2017-02-10T05:22:57-08:00] INFO: Storing updated cookbooks/admpwd/README.md in the cache.
192.168.145.134 [2017-02-10T05:22:57-08:00] INFO: Storing updated cookbooks/admpwd/Berksfile.lock in the cache.
192.168.145.134 [2017-02-10T05:22:57-08:00] INFO: Storing updated cookbooks/admpwd/metadata.rb in the cache.
192.168.145.134 [2017-02-10T05:22:57-08:00] INFO: Storing updated cookbooks/admpwd/.kitchen.yml in the cache.
192.168.145.134 [2017-02-10T05:22:57-08:00] INFO: Storing updated cookbooks/admpwd/verify.txt in the cache.
192.168.145.134 [2017-02-10T05:22:57-08:00] INFO: Storing updated cookbooks/admpwd/chefignore in the cache.
192.168.145.134 [2017-02-10T05:22:57-08:00] INFO: Storing updated cookbooks/admpwd/Berksfile in the cache.
192.168.145.134 [2017-02-10T05:22:57-08:00] INFO: Storing updated cookbooks/admpwd/recipes/default.rb in the cache.
192.168.145.134 [2017-02-10T05:22:57-08:00] INFO: Processing registry_key[HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft Services\AdmPwd] action create (admpwd::default line 1)
192.168.145.134 [2017-02-10T05:22:57-08:00] INFO: Chef Run complete in 0.906175 seconds
192.168.145.134 [2017-02-10T05:22:57-08:00] INFO: Running report handlers
192.168.145.134 [2017-02-10T05:22:57-08:00] INFO: Report handlers complete
