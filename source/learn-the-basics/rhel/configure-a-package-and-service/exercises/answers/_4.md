First, you can verify that Apache is running.

```bash
# ~/chef-repo
$ curl -I localhost
HTTP/1.1 200 OK
Date: Thu, 05 Feb 2015 22:40:54 GMT
Server: Apache/2.4.7 (Ubuntu)
Last-Modified: Thu, 05 Feb 2015 22:34:56 GMT
ETag: "2cf6-50e5ee9d3e36e"
Accept-Ranges: bytes
Content-Length: 11510
Vary: Accept-Encoding
Content-Type: text/html
```

Here's the code that stops and disables the Apache service.

```ruby
# webserver.rb
service 'httpd' do
  action [:stop, :disable]
end
```

Now you can run the recipe and verify that the service is no longer running.

```bash
# ~/chef-repo
$ sudo chef-apply webserver.rb
Recipe: (chef-apply cookbook)::(chef-apply recipe)
  * service[httpd] action stop
    - stop service service[httpd]
  * service[httpd] action disable
    - disable service service[httpd]
$ curl -I localhost
curl: (7) Failed to connect to localhost port 80: Connection refused
```
