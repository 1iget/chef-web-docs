Here's what happens:

```bash
# ~/webserver/recipes
$ rubocop .
Inspecting 1 file
W

Offenses:

default.rb:7:1: C: Indent when as deep as case.
when 'centos' then 'httpd'
^^^^
default.rb:8:1: C: Indent when as deep as case.
when 'ubuntu' then 'apache2'
^^^^
default.rb:9:1: W: end at 9, 0 is not aligned with case at 6, 30.
end
^^^

1 file inspected, 3 offenses detected
```

- indent the `when`s, or if you prefer that style, disable the rule in .rubocop.yml.

```
# rubocop.yml
# Indentation of `when`.
Style/CaseIndentation:
  Enabled: false
```

(copied from https://github.com/bbatsov/rubocop/blob/master/config/default.yml and added `Enabled` field.)

- possibly ignore the `end`. (show inline as an example?)

```ruby
# ~/webserver/recipes/default.rb
package_name = service_name = case node['platform']
when 'centos' then 'httpd'
when 'ubuntu' then 'apache2'
end # rubocop:disable Lint/EndAlignment
```

Or you can fix the code like this.

```ruby
# ~/webserver/recipes/default.rb
package_name = service_name =
case node['platform']
when 'centos' then 'httpd'
when 'ubuntu' then 'apache2'
end
```

```bash
# ~/webserver/recipes
$ rubocop .
Inspecting 1 file
.

1 file inspected, no offenses detected
```
