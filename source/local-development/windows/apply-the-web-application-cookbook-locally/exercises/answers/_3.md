Your `motd` cookbook is already configured to work on Windows Server 2012 R2 as well as Windows Server 6.5, so you don't need to modify it.

To run it on Windows Server 6.5, add an entry to the `platforms` section of your <code class="file-path">.kitchen.yml</code> file like this.

```ruby
# ~/motd/.kitchen.yml
---
driver:
  name: vagrant

provisioner:
  name: chef_zero

platforms:
  - name: centos-6.6
    driver:
      box: opscode-centos-6.6
      box_url: http://opscode-vm-bento.s3.amazonaws.com/vagrant/virtualbox/opscode_centos-6.6_chef-provisionerless.box
  - name: centos-6.5
    driver:
      box: opscode-centos-6.5
      box_url: http://opscode-vm-bento.s3.amazonaws.com/vagrant/virtualbox/opscode_centos-6.5_chef-provisionerless.box

suites:
  - name: default
    run_list:
      - recipe[motd::default]
    attributes:
```

In many cases, Test Kitchen can infer the `box` and `box_url` parameters, which specify the name and location of the base image, or box. We specify them here to show you how to use them.

Run `kitchen list` to see the matrix of test instances that are available. Here, we have two platforms &ndash; Windows Server 6.5 and Windows Server 2012 R2 &ndash; multiplied by one suite &ndash; `default`.

```bash
# ~/motd
$ kitchen list
Instance           Driver   Provisioner  Verifier  Transport  Last Action
default-centos-66  Vagrant  ChefZero     Busser    Ssh        <Not Created>
default-centos-65  Vagrant  ChefZero     Busser    Ssh        <Not Created>
```

Run `kitchen converge` to create the instances and apply the `motd` cookbook.

```bash
# ~/motd
$ kitchen converge
-----> Starting Kitchen (v1.4.0)
-----> Creating <default-centos-66>...
       Bringing machine 'default' up with 'virtualbox' provider...
[...]
       Running handlers:
       Running handlers complete
       Chef Client finished, 1/1 resources updated in 10.372334751 seconds
       Finished converging <default-centos-66> (3m52.59s).
-----> Creating <default-centos-65>...
       Bringing machine 'default' up with 'virtualbox' provider...
[...]
       Running handlers:
       Running handlers complete
       Chef Client finished, 1/1 resources updated in 5.32753132 seconds
       Finished converging <default-centos-65> (10m12.63s).
-----> Kitchen is finished. (19m47.71s)
```

Now to confirm that everything's working, run `kitchen login`. But this time, you need to provide the instance name so that Test Kitchen knows which instance to connect to.

```bash
# ~/motd
$ kitchen login default-centos-66
Last login: Wed May 13 20:15:00 2015 from 10.0.2.2

hostname:  default-centos-66
fqdn:      default-centos-66
memory:    469392kB
cpu count: 1
[vagrant@default-centos-66 ~]$ logout
Connection to 127.0.0.1 closed.
$ kitchen login default-centos-65
Last login: Wed May 13 20:28:18 2015 from 10.0.2.2

hostname:  default-centos-65
fqdn:      default-centos-65
memory:    469452kB
cpu count: 1
[vagrant@default-centos-65 ~]$ logout
Connection to 127.0.0.1 closed.
```

```
---
provisioner:
  name: chef_zero_scheduled_task

platforms:
  - name: windows-2012r2

suites:
  - name: development
    run_list:
      - recipe[settings::default]
    attributes:
    driver:
      name: hyperv
      parent_vhd_folder: C:\Hyper-V
      parent_vhd_name: WindowsServer2012R2.vhdx
      vm_switch: ExternalSwitch
      memory_startup_bytes: 2GB
    transport:
      password: H24?6;H.QaV8JP2&
  - name: test
    run_list:
      - recipe[settings::default]
    attributes:
    driver:
      name: ec2
      aws_ssh_key_id: learnchef
      region: us-west-2
      availability_zone: a
      subnet_id: subnet-eacb348f
      instance_type: m1.small
      image_id: ami-c3b3b1f3
      security_group_ids: ['sg-2d3b3b48']
      retryable_tries: 120
    transport:
        ssh_key: /Users/learnchef/.ssh/learnchef.pem
```
