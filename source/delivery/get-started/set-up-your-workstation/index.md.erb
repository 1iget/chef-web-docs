---
title: 'Set up your workstation'
order: 2
keywords: TODO
layout: lesson
sections: []
next: {heading: Next, partial: next}
time_to_complete: 2 hours
survey_id: Betfc8doFaGlJLYu635jYbACof1cENmM8fQAfwmZBT5nX9gqZVxCU6byDKS6c_2FFs
meta_tags: [{name: "ROBOTS", content: "NOINDEX, NOFOLLOW"}]
---
[CALLOUT networks/team-members-workstation.svg] You'll perform this part from the Windows workstation that's provided as part of the automated Delivery installation.

[PRODNOTE] We need to decide on Git Bash or posh~git for this and make sure that it's pinned to the task bar. I like posh~git because it lets you do the PowerShell thing. (I thought we set up posh~git but I don't see it when I open PowerShell. I also don't see Git Bash pinned for the Chef user - we might need this for the ssh-keygen command in this part.)

In the previous lesson, you or your system administrator set up a Chef Delivery cluster. Now you're ready to use it. You'll interact with Chef Delivery from your workstation, but first you'll need to set it up.

[COMMENT] If your administrator installed Chef Delivery, [review the installation at a glance](/delivery/get-started/install-chef-delivery#theinstallationataglance) to get a sense of what components are involved and how they fit together.

[START_BOX]

## Workstation setup overview

Draft content:

The preconfigured workstation includes:

* Git for Windows
* Chef DK

You'll begin by first [gathering information about your Delivery server]().

Then you'll install:

* Chef Delivery command-line interface (CLI) tools

Then you'll perform these tasks to complete your setup.

* [Create a working directory]()
* [Associate a public SSH key with your Delivery user]()
* [Connect the Delivery CLI to the Chef Delivery server]()
* [Generate a Delivery API token]()
* [Authenticate access to Delivery's Git server]()

[END_BOX]

[START_BOX]

## 1. Gather information about your Delivery server

You'll need some information [from the previous lesson](/delivery/get-started/install-chef-delivery#step3). You can get this information from your administrator if you did not perform the installation.

* The Chef server URL, for example, https://10.194.13.167/organizations/test, and logon information.
* The Chef Delivery web interface URL, for example, https://10.194.9.174/e/test/.
* Your Chef Delivery username and initial password.

[END_BOX]

[START_BOX]

## 2. Connect to your Windows workstation

[PRODNOTE] Show how to get the IP address and set up an RDP connection.

[END_BOX]

[START_BOX]

## 3. Install the Delivery CLI

[Point to docs FMI about installing the CLI on other platforms.]

[PRODNOTE] Don't follow this, as it's broken. Work-around below.

1. [Download the Delivery CLI installer](https://s3.amazonaws.com/delivery-packages/cli/delivery-cli-0.0.0%2B20151020165859-1-x64.msi).
1. Click the package and install.
1. Modify your `PATH` environment variable to include the path to the `delivery` executable.

  ```ps
  $ $env:Path = $env:Path + ";C:\chef\delivery-cli\bin"
  $ [Environment]::SetEnvironmentVariable("Path", $env:Path, [System.EnvironmentVariableTarget]::User)
  ```

[PRODNOTE] Here's how I work-around the broken CLI installer:

```ps
# ~
$ mkdir C:\chef
$ mkdir C:\chef\delivery-cli
$ mkdir C:\chef\delivery-cli\bin
# Download https://s3.amazonaws.com/delivery-packages/cli/deliverycli-latest.exe to C:\chef\delivery-cli\bin
$ Invoke-WebRequest -Uri "https://s3.amazonaws.com/delivery-packages/cli/deliverycli-latest.exe" -OutFile "C:\chef\delivery-cli\bin\delivery.exe"
# Manually download https://files.slack.com/files-pri/T03GRS9QS-F0PK4BB3N/bin.zip" to C:\chef\delivery-cli\bin\bin.zip (you'll get automatically redirected to the Chef sign-in page.)
$ $shell = new-object -com shell.application
$ $zip = $shell.NameSpace("C:\chef\delivery-cli\bin\bin.zip")
$ foreach($item in $zip.items())
$ {
$   $shell.Namespace("C:\chef\delivery-cli").copyhere($item)
$ }
$ rm C:\chef\delivery-cli\bin\bin.zip
$ $env:Path = $env:Path + ";C:\chef\delivery-cli\bin"
$ [Environment]::SetEnvironmentVariable("Path", $env:Path, [System.EnvironmentVariableTarget]::User)
```

[END_BOX]

[START_BOX]

## 4. Create a working directory

```bash
# ~
$ mkdir ~/delivery-demo
$ cd ~/delivery-demo
```

[END_BOX]

[START_BOX]

## 5. Update your Delivery user with an SSH public key

You need to associate your public SSH key with your Delivery user.

Start by generating an SSH key. You can skip this step if you already have an SSH public key that you can use, for example, <code class="file-path">~/.ssh/id_rsa.pub</code>.

```bash
# ~
$ ssh-keygen -t rsa -b 4096 -C "you@example.com"
```

The output is similar to:

```bash
# ~
Generating public/private rsa key pair.
Enter file in which to save the key (/Users/username/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /Users/path/to/.ssh/id_rsa.
Your public key has been saved in /Users/path/to/.ssh/id_rsa.pub.
The key fingerprint is:
ac:8a:57:90:58:c1:cd:34:32:18:9d:f3:79:60:f3:41 you@example.com
The key's randomart image is:
+--[ RSA 4096]----+
|  .==*o.E        |
|  . *o*..        |
|   o + = .       |
|  . o o.o        |
|     . ..S       |
|      ..         |
|     ..          |
|   .*o*.         |
|  ...            |
+-----------------+
```

Now print your SSH key to the console, like this.

```bash
# ~
$ cat ~/.ssh/id_rsa.pub
```

The output is similar to:

```bash
# ~
ssh-rsa
AAAAB3NzaC1yc2EAAAADAQABAAACAQDa8BR/9bj5lVUfQP9Rsqon5qJMkiVm+JAtGi
wnhxqgyRhkYLIzm6+gcifDgMOMuwZA88Ib5WNRhxjlmTseapower4rH/jAAczdp1h1
7xLEEbUfQfkcqiy/Drp3k12345678ad234fgvdsasdfasdfR9ddNIeNvQ7OIpOCfLE
PCyFz3aRRuhpM/5cySFT7bl1O44bNgfiuqRzcXFscZb03WPlhaPwCvL2uxaRzdrAGQ
mE5jzCo6nORvKoGdVDa2++def33f3xPZCo3oJ08Q9XJ2CnfJlmyNe1hwI2NOQ3yRbc
nfSMona7ccSyHRWGs5bS//u6P0NK5AqH5jK8pg3XwtHZqLwUVy1wX0WnnJWg9IWXf3
2g3P4O4NJGVUeX33Czv32GK8YphuEweqFu/Ej7kQp1ppIxkEtrpBfMi3na0QqZlk6w
wghZLa++DUfWOhGsuuBgnsocAR5rLGy+gkypdie1Ydoe8qjLVZR/jKybQfQjuZOS30
fZnwJhl2ZaeraPfkEXlVhK02/8PIALGfeXdt9KvQN0p5c6lRoDxqBqslM+1KbKKcGd
lSGEsAIP9OOWBECRxlOwqlqGHtrgWKOr376dntMIy2+fFD/74tJMjRwbRzm8IGWmj6
OcF6EvTYYO4RmISD8G+6dm1m4MlxLS53aZQWgYWvRdfNB1DA
Zo3h9Q== you@example.com
```

Log into the Chef Delivery web interface.

Open your user profile (select **Users** from the drop-down menu on the upper right, then navigate to your profile) and paste the output from your terminal window into the large text area under **Security Information**. If you were assigned an initial password, change it and save your profile.

[END_BOX]

[START_BOX]

## 6. Connect the Delivery CLI to the Chef Delivery server

Next, you'll run the `delivery setup` command to create a file that configures the `delivery` command line interface (CLI) to contact the Chef Delivery server. The command you'll run creates a configuration file named <code class="file-path">.delivery/cli.toml</code>.

The placement of the `.delivery` directory in your file hierarchy is significant. Like Git, Chef Delivery searches the current directory and parent directories for its server settings. Because server settings are unique to an organization, we recommend that you create a directory for each organization you belong to and run the `delivery setup` command from that directory.

From your command prompt, configure the `delivery` command line interface (CLI) to contact the Chef Delivery server at <code class="placeholder">10.0.0.12</code>, replacing <code class="placeholder">USERNAME</code> with yours.

```bash
# ~/delivery-demo
$ delivery setup --server=10.0.0.12 --ent=delivery-demo --org=delivery-demo --user=USERNAME
```
This example produces this <code class="file-path">.delivery/cli.toml</code> file.

[Show it.]

[END_BOX]

[START_BOX]

## 7. Generate a Delivery API token

[PRODNOTE] I hear you don't have to do this with the latest Delivery CLI. Once the installer is fixed, verify and remove this step.

Now run `delivery token` to generate an API token. An API token enables you to make authorized requests to your Chef Delivery server.

```bash
# ~/delivery-demo
$ delivery token
Chef Delivery
Loading configuration from /home/sally/Development
Requesting Token
Delivery password:
token: 25d1TczLBIH0CfOolhwhKuV56TPdunMm1DO+TQT5c1M=
saved API token to: /home/sally/.delivery/api-tokens
```

[END_BOX]

[START_BOX]

## 8. Authenticate access to Delivery's Git server

[PRODNOTE] Verify whether this is still necessary with the latest CLI.

You must authenticate access to your Chef Delivery's Git server, which by default runs on port 8989.

Here's an example for a user named `sally` and an enterprise named `delivery-demo`. Enter 'yes' when prompted.

```bash
# ~/delivery-demo
$ ssh -l USER@delivery-demo -p 8989 10.0.0.12
The authenticity of host '[10.0.0.12]:8989 ([10.0.0.12]:8989)' can't be established.
RSA key fingerprint is ba:db:0c:97:f8:d4:6d:0f:0b:57:0d:0f:0e:a4:15:01.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added '[10.0.0.12]:8989' (RSA) to the list of known hosts.
channel 0: protocol error: close rcvd twice
Hi sally@delivery-demo! You've successfully authenticated, but Chef Delivery does not provide shell access.
                      Connection to 10.0.0.12 closed.
```

Your workstation is now set up for use with Chef Delivery.

[PRODNOTE] Is there a command you can run to be absolutely sure you're configured properly?

[END_BOX]