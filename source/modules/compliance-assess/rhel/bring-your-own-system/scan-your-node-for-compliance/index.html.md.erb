---
title: 'Scan your node for compliance'
order: 3
keywords: TODO
time_to_complete: 15 minutes
quiz_path: quizzes/compliance-assess/shared/scan-your-node-for-compliance.yml
headings: [
  { label: '1. Scan your node', href: '#step1' },
  { label: '2. Review the results', href: '#step2' },
  { label: 'Clean up your environment', href: '#howtocleanupyourenvironment' },
  { label: 'Conclusion', href: '#conclusion' }
]
---
The Chef compliance scanner comes with pre-configured _profiles_, or collections of compliance rules. You can also create your own profiles or extend the built-in ones.

You'll see the available profiles from the **Compliance** menu in the web interface.

![](compliance/compliance_profiles.png)

A [compliance profile](https://docs.chef.io/compliance.html#compliance-profiles) defines the security criteria for a particular security framework or application. For example, the Apache profile defines security rules for Apache HTTP Server.

![](compliance/profile_apache.png)

In this part, you'll scan your CentOS 7 node against the built-in [Center for Internet Secuirty (CIS) Benchmarks](https://benchmarks.cisecurity.org).

[START_BOX]

## 1. Scan your node against the CIS Benchmarks

From the dashboard in the web interface, select your node and click **Scan**.

![](compliance/scan_button_centos7.png)

[COMMENT] You can scan multiple nodes at the same time.

Clear the checkbox for **Operating System Patch Level** and select **cis/cis-centos7-level1**.

![](compliance/select_profiles_centos7.png)

You can run Compliance scans on demand or schedule them to run at a later time. Click **Scan now** to begin the scan immediately.

![](compliance/scan_now_button.png)

Watch as your node is scanned. The scan may take a few minutes to complete.

![](compliance/scan_in_progress.png)

[END_BOX]

[START_BOX]

## 2. Review the scan results

After the scan completes, you'll see a report that details the results.

The **Summary** section provides an overview for all nodes that were scanned. You'll see the number of tests that passed compliance and the number of issues that may require attention.

![](compliance/scan_report_summary_centos7.png)

[TIP] You can always access a report from the **Reports** menu.

The **Scan Report** gives you additional details for each node that was scanned.

![](compliance/scan_report_levels_centos7.png)

The result of each test appears in a table. Results are sorted by severity. As an example, locate **Set SSH Protocol to 2**.

![](compliance/scan_report_issues_sshv2_centos7.png)

You'll see that this test failed. You'll also see that the test receives a score of 10.0, meaning it is most critical.

In the next module, you'll learn more about the **Set SSH Protocol to 2** rule and also how to use Chef to remediate the failure.

[END_BOX]

[START_BOX]

## How to clean up your environment

If you're interested in using Chef to remediate compliance failures, you can keep your Chef compliance scanner and your node available. The next module builds on this one.

If you're using cloud resources and need a break, you can temporarily suspend your instances and restart them later. If you're using a cloud provider such as AWS, keep in mind that your servers' public IP addresses are reassigned when you restart your instances. You'll need to update your node's IP address from the dashboard. To do so, click on your node and then update the IP address in the **Configuration** section.

![](compliance/node_configuration_centos7.png)

If you want to remove your node or start the module from the beginning, select your node from the dashboard and click **Remove**.

![](compliance/remove_node_centos7.png)

When you're finished, don't forget to tear down any cloud instances that you used to complete the module.

[END_BOX]

## Conclusion

In this module, you set up a Chef compliance scanner and scanned a CentOS 7 server against the predefined CIS Security Benchmarks.

At the [beginning of the module](/modules/compliance-assess/rhel/bring-your-own-system/), we proposed 5 stages for keeping your infrastructure in compliance. Let's review them.

* **Analyze**
* **Specify**
* **Test**
* **Remediate**
* **Certify**

You've already covered 3 of these 5 stages.

In the Analyze stage, you define your compliance requirements. In this module, this means adhering to the CIS Security Benchmarks.

In the Specify stage, you translate your requirements into a formal language. The Chef compliance scanner does this for you by providing tests for the CIS Security Benchmarks. In the next module, you'll learn about the testing framework the Chef compliance scanner uses, called [InSpec](https://www.inspec.io).

In the Test stage, you run the automated tests to see how closely your servers adhere to compliance. In this module, you ran a compliance scan and noted which tests passed and which tests failed.

Knowing the state of your servers is a great first step towards meeting your compliance goals. In the next module, [Remediate compliance failuresâ€‹](/modules/compliance-remediate/rhel/), you'll build upon this module by implementing the Remediate stage, using the **Set SSH Protocol to 2** rule as an example. You'll start by learning how to replicate and remediate the failure on a local virtual machine. Then you'll learn how to apply the remediation to your CentOS 7 node and verify that the rule passes.
