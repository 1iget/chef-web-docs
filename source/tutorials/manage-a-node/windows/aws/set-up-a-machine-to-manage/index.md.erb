---
title: 'Set up an AWS instance to manage'
order: 1
description: "Set up your Chef environment."
keywords: TODO
layout: tutorials/platforms/environments/overview/lesson/layout
time_to_complete: 20 minutes
snippet_path: learn-the-basics/windows/aws/set-up-a-machine-to-manage
snippet_workstation: windows
headings: [
  { label: '1. Access your AWS account', href: '#step1' },
  { label: '2. Launch a Windows Server 2012 R2 instance', href: '#step2' },
  { label: '3. Connect to your Windows Server instance', href: '#step3' },
  { label: '4. Install the Chef DK on your Windows Server instance', href: '#step4' },
  { label: '5. Prepare a text editor on your Windows Server instance', href: '#step5' },
  { label: 'Cleaning up', href: '#cleaningup' },
  { label: 'Next', href: '#next' }
  ]
---
<%= partial '../../shared/get-set-up/intro' %>

In this part, you'll create a Windows Server 2012 R2 instance on [Amazon Elastic Compute Cloud](https://aws.amazon.com/ec2/) (Amazon EC2).

You'll also learn how to [clean up](#cleaningup) your instance when you're done with this tutorial.

<% accordion('test-configuration', 'Test configuration', true) do %>

<% markdown do %>

The sample output you see might differ depending on the Amazon Machine Images (AMI) that you choose. The version of the Chef Development Kit that you use can also affect the output that you see. We recommend that you install the components as directed in the tutorial, using the specific versions that have been tested.

For technical support with AWS, [visit the discussion forums](https://forums.aws.amazon.com/index.jspa). We're also happy to help as best we can.

<% render_machine_config('snippets/learn-the-basics/windows/aws/machine_config.md') %>

<% end %>

<% end %>

[START_BOX]

## 1. Access your AWS account

Log in to your AWS account. If you don't have an account, AWS's [one-year free account](https://aws.amazon.com/free/?sc_channel=PS&sc_campaign=acquisition_US&sc_publisher=google&sc_medium=cloud_computing_b&sc_content=aws_free_e&sc_detail=aws%20free%20tier&sc_category=cloud_computing&sc_segment=73823473242&sc_matchtype=e&sc_country=US&s_kwcid=AL!4422!3!73823473242!e!!g!!aws%20free%20tier&ef_id=VV3lAgAAAHK07c0y:20151119221840:s) gives you 750 hours per month of usage on the t2.micro tier.

If you are unable to use AWS, you can [try a different option](/tutorials/learn-the-basics/windows/) for this tutorial.

[END_BOX]

[START_BOX]

## 2. Launch a Windows Server 2012 R2 instance

Next, bring up a Windows Server instance on Amazon EC2.

If you're new to AWS, their [Launch a Windows Virtual Machine](https://aws.amazon.com/getting-started/tutorials/launch-windows-vm/) tutorial walks you through the creation of your first Windows Server virtual machine.

When you're ready to continue with this tutorial, launch a Windows Server 2012 R2 instance from the AWS console. Although you can use a t2.micro instance to take advantage of the free usage tier, we recommend a t2.medium or larger instance for best performance.

When you [create your security group](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-network-security.html), ensure that ports 80 (HTTP), 443 (HTTPS), 3389 (RDP), and 5985 (WinRM) are open for inbound and outbound network traffic.

[COMMENT] Technically, port 443 is not required for this tutorial. But setting up that port now prepares you for the next tutorial, where you'll configure your server to be managed remotely.

[END_BOX]

[START_BOX]

## 3. Connect to your Windows Server instance

Next, create a Remote Desktop connection to your instance. The AWS documention explains [how to connect using an RDP client](http://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/EC2_GetStarted.html#ec2-connect-to-instance-windows).

[END_BOX]

[START_BOX]

## 4. Install the Chef DK on your Windows Server instance

Remember, for learning purposes, you'll start by managing a server directly. To do that, you'll install the Chef DK on your instance. The Chef DK provides tools that enable you to manage your servers remotely from your workstation. But it also provides tools that allow you to configure a machine directly.

From your Remote Desktop connection, run this from the command line to install the Chef DK.

<% command_snippet(path: 'learn-the-basics/windows/aws/set-up-your-own-server/install-the-chef-dk/install-chefdk', workstation: 'windows', features: [:stdin, :stdout]) %>

The `-channel` and `-version` arguments specify the Chef DK version this tutorial was last tested with.

Next, open a Chef Development Kit PowerShell window.

The Chef Development Kit provides a desktop shortcut that brings up a PowerShell session that's configured to work with Chef. Open the **Chef Development Kit** shortcut from the desktop or **Start** menu.

![](misc/chefdk-desktop-shortcut-windows.png)

[END_BOX]

[START_BOX]

## 5. Prepare a text editor on your Windows Server instance

Because Chef uses code to express infrastructure policy, it's important that you use a text editor that provides features such as syntax highlighting and line numbering.

From your Remote Desktop connection, install a text editor now.

If you don't have a preferred text editor, here are some that are popular among Chef users:

* [Atom](http://atom.io)
* [Visual Studio Code](https://code.visualstudio.com)
* [Sublime Text 2](http://www.sublimetext.com)

[END_BOX]

[START_BOX]

## Cleaning up

After you complete the tutorial, be sure to [destroy your instance](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EC2_GetStarted.html#ec2-clean-up-your-instance).

Or, you can leave your server running if you want to use it to complete the next tutorial. You can temporarily [stop and later resume](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Stop_Start.html) your instance to reduce cost.

[END_BOX]

<% next_page(current_page) do %>

Now that you have the Chef DK and a text editor set up on your instance, let's use Chef to configure a file, a kind of _resource_, on it.

<% end %>
