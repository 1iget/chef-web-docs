---
title: 'Set up your workstation and user profile'
short_title: 'Set up your workstation'
order: 2
layout: tutorials/platforms/environments/overview/lesson/layout
time_to_complete: 20 minutes
snippet_path: deploy-infrastructure/ubuntu/opsworks/set-up-your-chef-server
snippet_workstation: ubuntu
headings: [
  { label: '1. Generate an SSH key', href: '#step1' },
  { label: '2. Update your user profile', href: '#step2' },
  { label: '3. Create a workflow org', href: '#step3' },
  { label: '4. Configure the CLI tools', href: '#step4' },
  { label: '5. Generate an API token', href: '#step5' },
  { label: '6. Set your Git identity', href: '#step6' },
  { label: '7. Authenticate with Git', href: '#step7' },
  ]
meta_tags: [{name: "ROBOTS", content: "NOINDEX, NOFOLLOW"}]
---
In the [Manage a node](/tutorials/manage-a-node/ubuntu/opsworks/set-up-opsworks/) tutorial, you brought up an AWS OpsWorks for Chef Automate instance and set up your workstation to communicate with it. In this part, you'll extend this setup to be able to push configuration changes through Chef Automate's integrated pipeline.

Because you're using Chef Automate's integrated Git server for this tutorial, you'll need to generate an SSH keypair and associate the public part of that keypair with your Chef Automate user account. Later, if you choose to integrate with [GitHub](https://docs.chef.io/integrate_delivery_github.html) or [Bitbucket](https://docs.chef.io/integrate_delivery_bitbucket.html), you would set up Chef Automate and your workstation to work with that revision control system.

[WINDOWS] If your workstation is running Windows, remember to run commands from a [Chef Development Kit PowerShell prompt](/tutorials/manage-a-node/ubuntu/opsworks/set-up-opsworks#step2.2). Doing so will ensure that utilties such as `ssh` are available.

[START_BOX]

## 1. Generate an SSH key

You need an SSH key to submit changes to Chef Automate from the command line. The private part of your key, <% fp '~/.ssh/id_rsa' %>, stays with you. You associate the public part of your key, <% fp '~/.ssh/id_rsa.pub' %>, with your Chef Automate user profile.

If you don't have an SSH keypair that you want to use, [generate one now](https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys--2). Here's an example.

```bash
$ ssh-keygen -t rsa
```

You'll see the private and public key files in your <% fp '~/.ssh' %> directory.

```bash
$ ls ~/.ssh/id_rsa*
/Users/thomaspetchel/.ssh/id_rsa      /Users/thomaspetchel/.ssh/id_rsa.pub
```

Print out the contents of the public part of your keypair, <% fp '~/.ssh/id_rsa.pub' %>, to the console and copy it to the clipboard. You'll paste it in your Chef Automate user profile in the next step.

```bash
$ cat ~/.ssh/id_rsa.pub
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDHXRMZw0wpGjMO4kP3RC0W2OEXWDkMLNHohYTLNABsdfsXvEZKzxpu9ymLt3lS/rishkxGNlQiYZatVW1XbYeKQf5m0ulfGO/EZgTldexkqu0jh1px3/2awhF01O+6YFvmVRDVlKl3qkg9GzDQkGjrUmIKlM401hUkQzMZ6Rx8VXMkHB0X0Sr7faWIFvXHYV1LEoLh4HlMCg5Yo14iKt5eutUzqZvMbIVWu3MCMdFRjuniHH+IXdzINcj3tEGQB1VTE6FMmoxe+vMJewiKNnE0GtouE1LhKjwh9yeyi6SA/jgUYn8zmOI2PC1Kav04vKdfBcqlb7KzSq5w4yKaqnqQ5c72jJJxzxQvoOUQQMFU9pDmwzhFjBccKF+u7RIg5F4+msrwOkwjbuDYtXNgjlPUhlm+wSlQ7yq6x2BNRO75JJCuxxIouU6Z2S2eR2mESg8zHdPwEIJnluOLwgPlGgPO8xHu8cYToiAx6xvgJJ0SVh/mc2jPTtMxxqwZa/KWW/kZZhV7TSRB0lWfBbTtERgWHmAXo5ZSjpOJfQekiVDCuu14Cxl9ttZ6EGfptZTqSzHgg1AqA957UFNTuPt6y5dzglNurkISs3Mq4+pMBBk5jxaROt1zfqpLZHg/n4JQbjKUvdbroXyDZxtEtwOQNlQ5KvtyEqH5yXRohitIRgJcXQ== tpetchel@chef.io
```

[END_BOX]

[START_BOX]

## 2. Update your user profile

From the Chef Automate web interface, select **Admin** from the menu at the top of the page. Then select your user account, for example, **admin**.

Fill in the fields, including your Chef Automate password. In the text box labeled **SSH Key**, paste the contents of the SSH public key you generated in the previous step. Here's an example.

<img src="/assets/images/automate/update_user_profile_1.png" style="width: 60%;" />

Under the section **Roles Within the Enterprise**, ensure the **admin** option is checked. Then click **Save & Close**.

<img src="/assets/images/automate/update_user_profile_2.png" style="width: 60%;" />

[COMMENT] Later, you can configure your installation to work with [LDAP](https://docs.chef.io/integrate_delivery_ldap.html) or [SAML](https://docs.chef.io/integrate_chef_automate_saml.html) authentication.

[END_BOX]

[START_BOX]

## 3. Create a workflow organization

The next step is to create a workflow organization. A workflow organization enables you to group related projects and provide scope for authorization rules. You'll use your workflow organization in the next step when you set up the command-line tools on your workstation.

From the Chef Automate web interface, select **Workflow**, then **Workflow Orgs**. Then specify a name for your org, for example, **my-org**. Then press **Save &amp; Close**.

![](automate/automate-create-workflow-org.png)

[Learn about integration with Slack](https://docs.chef.io/integrate_delivery_slack.html)

[END_BOX]

[START_BOX]

## 4. Configure the command-line tools

Next, you'll run [delivery setup](https://docs.chef.io/ctl_delivery.html#delivery-setup) to configure the command-line interface (CLI) tools to communicate with the Chef Automate server. The command creates a configuration file named <% fp '.delivery\cli.toml' %>.

The placement of the `.delivery` directory in your file hierarchy is significant. Like Git, the delivery CLI searches the current directory and parent directories for its server settings. Because server settings are unique to an organization, we recommend that you create a directory for each organization you belong to and run the `delivery setup` command from that directory.

From the <% fp '~/learn-chef' %> directory, run the following to configure the CLI to communicate with your Chef Automate server. Replace <% ph 'SERVER' %> with your Chef Automate server's FQDN, <% ph 'ORG' %> with your workflow organization name, and <% ph 'USER' %> with your username.

```bash
# ~/learn-chef
$ delivery setup --server=SERVER --ent=default --org=ORG --user=USER
```

Here's an example.

```bash
# ~/learn-chef
$ delivery setup --server=test-bwjnavoadsiq2jkd.us-east-1.opsworks-cm.io --ent=default --org=my-org --user=admin
```

[END_BOX]

[START_BOX]

## 5. Generate an API token

Next, run [delivery token](https://docs.chef.io/ctl_delivery.html#delivery-token) to generate an API token. The API token enables you to authenticate requests without the need to enter your password.

Replace <% ph 'YOUR_PASSWORD' %> with the password you use to log in to the Chef Automate web interface.

```bash
# ~/learn-chef
$ AUTOMATE_PASSWORD=YOUR_PASSWORD delivery token
```

[PRODNOTE] Show how on Windows.

Here's an example.

```bash
# ~/learn-chef
$ AUTOMATE_PASSWORD=taJjpJH1IFa7jqbF delivery token
```

[END_BOX]

[START_BOX]

## 6. Set your Git identity

Next, run `git config` to set your [Git identity](https://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup#Your-Identity). Git includes this information as metadata when you commit changes. You can omit this step if you've already configured Git to work with other projects.

If you have an existing Git account, such as with GitHub, you can use the same information here (changes you make in this tutorial won't be published as public activity on your GitHub account.) You can use fictitious values if you prefer.

Here's an example.

```bash
# ~/learn-chef
$ git config --global user.name "John Smith"
$ git config --global user.email jsmith@example.com
```

[END_BOX]

[START_BOX]

## 7. Authenticate with Chef Automate's Git server

Next, verify that you can access your Chef Automate's Git server over SSH on port 8989. Doing so verifies that you are properly configured to submit changes to Chef Automate. The process also adds an entry to <% fp '.ssh\known_hosts' %> so will not be later prompted to verify the authenticity of your Chef Automate server.

Replace <% ph 'USER' %> with your username and <% ph 'SERVER' %> with your Chef Automate server's FQDN.

```bash
# ~/learn-chef
$ ssh -T -p 8989 -l "USER@default" SERVER
```

Here's an example.

```bash
# ~/learn-chef
$ ssh -T -p 8989 -l "admin@default" test-bwjnavoadsiq2jkd.us-east-1.opsworks-cm.io
Hi admin@default! You've successfully authenticated, but Chef Delivery does not provide shell access.
```

Your workstation is now set up.

[END_BOX]

<% next_page(current_page) do %>

YIP!

<% end %>
